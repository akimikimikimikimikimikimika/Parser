(()=>{let ce=(t)=>document.createElement(t),cd=(i,c,t)=>{let e=ce("div");if (i) sa(e,"id",i);if (c) sc(e,c);if (t) e.textContent=t;return e;},ap=(p,c)=>p.appendChild(c),apd=(p,i,c,t)=>ap(p,cd(i,c,t)),rc=c=>c.parentNode.removeChild(c),sa=(e,k,v)=>e.setAttribute(k,v),ra=(e,k)=>e.removeAttribute(k),ss=(e,c)=>sa(e,"style",c),sc=(e,c)=>{if (c) sa(e,"class",c);else ra(e,"class");},sas=(e,w)=>sa(e,"aria-selected",w?"true":"false"),sad=(e,w)=>sa(e,"aria-disabled",w?"true":"false"),ael=(e,t,l,o)=>e.addEventListener(t,l,o),body=document.body,html=document.documentElement;let status=new Proxy({touch:false,standalone:false,browser:null,save:false,view:false,compress:false},{set:(t,p,v)=>{t[p]=v;let c=[];c.push(t.view?"base64":"data");if (t.standalone) c.push("standalone");if (t.touch) c.push("touch");if (t.browser!=null) c.push(t.browser.toLowerCase());sc(html,c.join(" "));},get:(o,p)=>{return o[p];}});(()=>{status.standalone=navigator.standalone===true||(/standalone=yes/).test(location.search);if (window.ApplePaySession) status.browser="Safari";if (window.chrome) status.browser="Chrome";if (window.sidebar) status.browser="Firefox";status.touch=ce().ontouchstart===null;})();let base=cd("base"),pack=[];let i=ap(base,ce("input"));i.type="file";i.autofocus=true;ael(i,"change",()=>{let f=i.files[0];if (f) op(f);i.value="";});let btn=(p,k,s,t,a)=>{let c="button "+(k?"text":"box");if (s) c+=" visible-"+s;let bp=ap(p,cd(null,c));let b=ap(ap(bp,cd()),cd(null,null,t));b.textContent=t;sa(b,"role","button");if (a) {var trig=false;ael(b,status.touch?"touchstart":"mousedown",e=>{trig=true;sc(bp,c+" pressed");e.preventDefault();});let f=e=>{trig=false;sc(bp,c);e.preventDefault();};ael(b,status.touch?"touchmove":"mousemove",f);ael(b,status.touch?"touchcancel":"mouseout",f);ael(b,status.touch?"touchend":"mouseup",e=>{if (trig) {trig=false;sc(bp,c);a(bp,b);}e.preventDefault();});}b.bp=bp;return b;};for (var n=0;n<2;n++) (n=>{let o={};let v=ap(base,cd(null,"view "+(n?"second":"first")));let h=ap(v,cd(null,"header"));let hl=ap(h,cd(null,n?"visible-single":""));btn(hl,true,null,"Load",()=>i.click());let cb=btn(hl,true,null,"Compress",(bp)=>{status.compress=!status.compress;pack.forEach(p=>sas(p.cb,status.compress));sd();});o.cb=cb.bp;let b=ap(v,ce("pre"));o.b=b;let hr=ap(h,cd());let db=btn(hr,false,n==1?"single":null,"Data",()=>{status.view=false;pack.forEach(p=>sas(p.db,true));pack.forEach(p=>sas(p.bb,false));});let bb=btn(hr,false,n==0?"single":null,"Base64",()=>{status.view=true;pack.forEach(p=>sas(p.db,false));pack.forEach(p=>sas(p.bb,true));});o.db=db.bp;o.bb=bb.bp;let f=ap(v,cd(null,"footer"));var int=null;[["Clear",()=>{data.xx=data.xc=data.bx=data.bc="";sd();}],["Copy",(bp,bt)=>{if (data.xx) {if (int) {clearTimeout(int);int=null;}sd();try{let s=window.getSelection();s.selectAllChildren(b);document.execCommand("copy");s.removeAllRanges();sas(bp,true);bt.textContent="Copied";}catch(e){bt.textContent="Copy failed";}int=setTimeout(()=>{sas(bp,false);bt.textContent="Copy";int=null;},3000);}}],["Open",()=>{if (data.xx) location.href=data[status.compress?"bc":"bx"];}]].forEach((e,m)=>btn(f,true,n==(1-m/2)?"single":null,e[0],e[1]));pack.push(o);})(n);let vShow=()=>{pack.forEach(p=>sas(p.db,!status.view));pack.forEach(p=>sas(p.bb,status.view));};let cShow=()=>pack.forEach(p=>sas(p.cb,status.compress));vShow();cShow();ael(html,"touchstart",e=>e.preventDefault());ael(html,"touchend",e=>e.preventDefault());ael(html,"keyup",e=>{switch (e.key) {case "l":case "L":i.click();break;case "o":case "O":if (data.xx) location.href=data[status.compress?"bc":"bx"];break;case "Backspace":case "Delete":case "Clear":data.xx=data.xc=data.bx=data.bc="";sd();break;case "c":case "C":if (data.xx) {sd();try{pack[status.view-0].b.textContent=data[(status.view?"b":"x")+(status.compress?"c":"x")];let s=window.getSelection();s.selectAllChildren(pack[status.view-0].b);document.execCommand("copy");s.removeAllRanges();alert("Copied");}catch(e){alert("Copy failed");}}break;case "v":case "V":status.view=!status.view;vShow();break;case "z":case "Z":status.compress=!status.compress;cShow();break;}});let data={xx:"",bx:"",xc:"",bc:""};ael(body,"dragover",e=>{e.stopPropagation();e.preventDefault();e.dataTransfer.dropEffect="copy";});ael(body,"drop",e=>{e.stopPropagation();e.preventDefault();let f=e.dataTransfer.files[0];if (f) op(f);});let op=f=>{let r=new FileReader();r.onload=()=>{let b=r.result;data.bx=b;let t=b.match(/^data:([a-z\-\+\/]*);base64,([a-zA-Z0-9\+\/\=]*)$/);let mime=t[1];var d=atob(t[2]);try{data.xx=decodeURIComponent(escape(d));}catch(e){data.xx=d;}var cm=d.split(/\*\/ ?/g);cm.forEach((e,n)=>{let c=e.split(/\/\* ?/g);cm[n]=c[0];});d=cm.join("");var cm=d.split(/\-\-\>/g);cm.forEach((e,n)=>{let c=e.split(/\<\!\-\-/g);cm[n]=c[0];});d=d.replace(/[\ \t]+\/\/\.+$/g,"");d=d.replace(/^\/\/\.+$/g,"");d=cm.join("");d=d.replace(/\<\/?editing\-folder\>/g,"");d=d.replace(/\ +\/\/.+$/g,"");d=d.replace(/\ +xml\:space\=["']?preserve["']?\ +/g," ");d=d.replace(/\ *xml\:space\=["']?preserve["']?\ * ?/g,"");var c=/rgb\([0-9]+,[0-9]+,[0-9]+\)/g;var cm=d.match(c);if (cm) {var s=d.split(c);d=s[0];cm.forEach((t,n)=>{m=t.match(/rgb\(([0-9]+),([0-9]+),([0-9]+)\)/);m.forEach((t,n)=>{m[n]=n?((t<16?"0":"")+(t-0).toString(16)):"";});d+="#"+m.join("")+s[n+1];});}c=/\#[0-9a-f]{6}/ig;cm=d.match(c);if (cm) {s=d.split(c);d=s[0];cm.forEach((t,n)=>{m=t.toLowerCase().match(/[0-9a-f]{2}/g);if ((parseInt(m[0],16)%17)|(parseInt(m[1],16)%17)|(parseInt(m[2],16)%17)) ;else t="#"+m[0][0]+m[1][0]+m[2][0];d+=t.toLowerCase()+s[n+1];});}d=d.replace(/\;[\n\t\ ]*\n[\n\t\ ]* ?/g,";").replace(/\:[\n\t\ ]*\n[\n\t\ ]* ?/g,":").replace(/\,[\n\t\ ]*\n[\n\t\ ]* ?/g,",").replace(/\{[\n\t\ ]*\n[\n\t\ ]* ?/g,"{").replace(/\}[\n\t\ ]*\n[\n\t\ ]* ?/g,"}");d=d.replace(/\ \ +/g," ").replace(/^ /,"").replace(/ $/,"").replace(/[\t\n]+/g,"").replace(/\>\ +/g,">");try{data.xc=decodeURIComponent(escape(d));}catch(e){data.xc=d;}data.bc="data:"+mime+";base64,"+btoa(d);sd();};r.readAsDataURL(f);};let sd=()=>{pack[0].b.textContent=data[status.compress?"xc":"xx"];pack[1].b.textContent=data[status.compress?"bc":"bx"];};while (body.firstChild) rc(body.firstChild);ap(body,base);})();